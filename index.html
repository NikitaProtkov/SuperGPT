<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Мой чат</title>
  </head>
  <body>
    <div id="chat"></div>
    <input type="text" id="userInput">
    <button onclick="sendMessage()">Отправить</button>
    <script>
      function sendMessage() {
        var userInput = document.getElementById("userInput");
        var message = userInput.value;
        // отправляем сообщение на сервер и получаем ответ
        // здесь нужно использовать AJAX или WebSocket для отправки запроса на сервер
        // и получения ответа в формате JSON
        var response = function botResponse() {
  let input = $("#chat-input").val();

  $.ajax({
    type: "POST",
    url: "https://api.openai.com/v1/engines/davinci-codex/completions",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer sk-...vrCJ",
    },
    data: JSON.stringify({
      prompt: "User: " + input + "\nBot:",
      max_tokens: 50,
      temperature: 0.5,
      top_p: 1,
      frequency_penalty: 0,
      presence_penalty: 0,
    }),
    success: function (data) {
      let response = data.choices[0].text.trim();
      if (!response) {
        response = "I'm sorry, I'm not sure what you're asking.";
      }
      $("#chat-box").append(
        '<div class="chat-message"><span class="chat-message-name">Bot:</span>' +
          response +
          "</div>"
      );
      $("#chat-input").val("");
    },
    error: function () {
      $("#chat-box").append(
        '<div class="chat-message"><span class="chat-message-name">Bot:</span>Oops! Something went wrong.</div>'
      );
      $("#chat-input").val("");
    },
  });
}
        // отображаем ответ в чате
        var chat = document.getElementById("chat");
        chat.innerHTML += "<p><strong>Вы:</strong> " + message + "</p>";
        chat.innerHTML += "<p><strong>Бот:</strong> " + response + "</p>";
        // очищаем поле ввода
        userInput.value = "";
      }
    </script>
  </body>
</html>
